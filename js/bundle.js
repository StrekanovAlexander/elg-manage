(()=>{var e={411:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hide:()=>r});const r=()=>{const e=document.querySelector(".alert");e&&e.classList.add("hiding")}},363:(e,t,a)=>{"use strict";a.r(t),a.d(t,{init:()=>r});const r=()=>{if(document.querySelector("#bases")){const e=(e,t,a)=>{document.querySelector(`#${e}_id_${t}`).value=a},t=document.querySelectorAll("[data-rate-buy-id]"),a=document.querySelectorAll("[data-rate-sale-id]"),r=document.querySelectorAll("[data-rate-cross-buy-id]"),s=document.querySelectorAll("[data-rate-cross-sale-id]");[...t].forEach((t=>{const a=t.id.replace("rate_buy_id_","");e("base_rate_buy",a,t.value)})),[...a].forEach((t=>{const a=t.id.replace("rate_sale_id_","");e("base_rate_sale",a,t.value)})),[...r].forEach((t=>{const a=t.id.replace("rate_cross_buy_id_","");e("base_rate_cross_buy",a,t.value)})),[...s].forEach((t=>{const a=t.id.replace("rate_cross_sale_id_","");e("base_rate_cross_sale",a,t.value)})),[...document.querySelectorAll(".btn-cnt")].forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const a=t.target,r=o(a,"previousElementSibling"),s=o(a,"nextElementSibling"),n=a.closest("td").closest("tr"),c=n.dataset.stepSize;let d=n.dataset.currId;if(s.value=Number(s.value)+u(a),l(s),r.dataset.rateBuyId&&(r.value=(Number(r.value)+u(a)*Number(c)).toFixed(5),e("base_rate_buy",d,r.value),n.dataset.isBaseCross&&console.log("Base cross")),r.dataset.rateSaleId&&(r.value=(Number(r.value)+u(a)*Number(c)).toFixed(5),e("base_rate_sale",d,r.value)),r.dataset.rateCrossBuyId||r.dataset.rateCrossSaleId){const t=document.querySelector(`#rate_cross_id_${d}`);r.value=(Number(t.value)+Number(s.value)*Number(c)).toFixed(5),r.dataset.rateCrossBuyId&&e("base_rate_cross_buy",d,r.value),r.dataset.rateCrossSaleId&&e("base_rate_cross_sale",d,r.value);let a=n.dataset.operCross;const u=n.dataset.crossEqvBuy,o=n.dataset.crossEqvSale,l="*"==a?n.dataset.baseCurrId:n.dataset.relCurrId;if(r.dataset.rateCrossBuyId){let t;"*"==a?t=(r.value*Number(u)).toFixed(5):"/"==a&&(t=0==r.value?0:(Number(u)/r.value).toFixed(5)),e("base_rate_buy",l,t)}if(r.dataset.rateCrossSaleId){let t;"*"==a?t=(r.value*Number(u)).toFixed(5):"/"==a&&(t=0==r.value?0:(Number(o)/r.value).toFixed(5)),e("base_rate_sale",l,t)}}}))}));const u=e=>e.classList.contains("btn-cnt-up")?1:-1,o=(e,t)=>{const a=e[t];return"INPUT"==a.tagName?a:a[t]},l=e=>{e.value>0?(n(e,"input-step-minus"),e.classList.add("input-step-plus")):e.value<0?(n(e,"input-step-plus"),e.classList.add("input-step-minus")):(n(e,"input-step-minus"),n(e,"input-step-plus"))},n=(e,t)=>{e.classList.contains(t)&&e.classList.remove(t)};[...document.querySelectorAll(".input-step")].forEach((e=>{e.addEventListener("blur",(function(e){const t=e.target;c(t),l(t)}))})),[...document.querySelectorAll(".input-rate")].forEach((e=>{e.addEventListener("blur",(function(e){const t=e.target;d(t)}))}));const c=e=>{const t=e.value,a=parseInt(t);e.value=isNaN(a)?0:a},d=e=>{const t=e.value.replace(",","."),a=parseFloat(t);e.value=isNaN(a)?0:e.value=a}}}},29:(e,t,a)=>{"use strict";a.r(t),a.d(t,{run:()=>r});const r=()=>{const e=document.querySelector("#password"),t=document.querySelector("#curr_short_name"),a=document.querySelector("#curr_base_curr_id"),r=document.querySelector("#dep_full_name");if(e){const t=document.querySelector("#btn-save"),a=document.querySelector("#password2"),r=e=>/^\w{3,}$/.test(e.value),u=(e,t)=>!(r(e)&&s(e.value,t.value));e.addEventListener("blur",(function(){t.disabled=u(e,a)})),a.addEventListener("blur",(function(r){t.disabled=u(e,a)}))}if(t){const e=document.querySelector("#btn-save"),a=e=>/^[a-zA-Z]{3}$/.test(e.value);t.addEventListener("blur",(function(){e.disabled=!a(t)}))}if(a){const e=document.querySelector("#btn-save"),t=document.querySelector("#rel_curr_id");[a,t].forEach((r=>{r.addEventListener("change",(function(){e.disabled=s(a.value,t.value)}))}))}if(r){const e=document.querySelector("#btn-save"),t=e=>/^\w{3,}$/.test(e.value);r.addEventListener("blur",(function(){e.disabled=!t(r)}))}},s=(e,t)=>e===t}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,a),u.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=a(411),t=a(363),r=a(29);e.hide(),t.init(),r.run()})()})();